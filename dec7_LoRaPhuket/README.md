# Future Connectivity in Smart Cities: LoRaWAN

บันทึกที่สรุปจากการเข้าร่วม Future Connectivity in Smart Cities: LoRaWAN ในวันพุธที่ 7 ธันวาคม 2559 โดยความร่วมมือระหว่าง NIA และ TESA  กิจกรรมนี้จัดที่อาคารสำนักงานนวัตกรรมแห่งชาติ ถนนโยธี โดยผู้เกี่ยวข้องกับโครงการ smart city ที่ภูเก็ต คือ Wannarat Suntiamorntut ภาควิชาวิศวกรรมคอมพิวเตอร์ ม.สงขลานครินทร์ และ Apinetr Unakul กรรมการของ CAT Telecom ได้มาเล่าให้ฟังเกี่ยวกับกรอบแนวคิดและแนวทางที่แนะนำที่ผู้สนใจจะไปเตรียมการต่อได้  การบันทึกนี้จะแบ่งตามเฟสของคำถามออกเป็น 3 ช่วงเริ่มจากกรอบแนวคิดของ smart city เทคโนโลยี LoRa และคำถามจากผู้ที่ร่วมฟัง

## ภาพรวมของ smart city framework ของภูเก็ตเป็นอย่างไรบ้าง

โครงการ smart city ในส่วนของภูเก็ตเป็นความร่วมมือระหว่างสถาบันการศึกษา (มอ.) ส่วนสนับสนุนภาครัฐ (กระทรวงดิจิตอล อุทยานวิทยาศาสตร์) หน่วยงานท้องถิ่นทั้งภาครัฐ (จังหวัด/เทศบาล) และเอกชน (สมาคมโรงแรม สมาคมท่องเที่ยว) เพื่อเชื่อมระบบและบริการต่างๆในบริบทของ smart tourism  การเลือก theme เป็น smart tourism เนื่องจากเศรษฐกิจหลักของจังหวัดภูเก็ตขึ้นอยู่กับรายได้จากนักท่องเที่ยว ซึ่งจะมีช่วงเวลาอยู่ประมาณ 6 เดือน   

การสร้างเฟรมเวิร์คของ smart city จะแบ่งออกเป็น 3 ระดับ ได้แก่
1. ชั้นล่างสุดจะเป็นโครงข่ายสื่อสารที่ครอบคลุมทั้ง 3G/4G, WiFi, ZigBee รวมมาถึง LoRa ที่เป็นอีก 1 ทางเลือกที่ CAT Telecom เสนอความช่วยเหลือมา
2. ชั้นถัดมาเป็น city cloud ที่จะให้บริการทรัพยากรประมวลผลสำหรับธุรกิจต่างๆจะมาติดตั้ง
3. ชั้นบนสุดจะเป็น API สำหรับเชื่อมระหว่างบริการต่างๆ
การเลือกที่จะลงทุนในส่วน โครงข่าย, city cloud และ API ยังถูกวางเป็นยุทธศาสตร์ที่จะมาชดเชยจุดอ่อนของเศรษฐกิจที่พึ่งพานักท่องเที่ยวได้แค่ 6 เดือน โดยหวังจะส่งเสริมให้เกิด ecosystem ที่กลุ่มนักพัฒนา startup มาลงทุนในภูเก็ตมากขึ้น   แนวคิดนี้ถูกกำหนดจากการสำรวจข้อมูลที่พบว่ามีอุปกรณ์ประเภท electronics DIY ที่ขายได้ดีมากในจังหวัดนี้ เลยไปพบว่ามีนักพัฒนาที่มาพักในแถบชายหาดอยู่พอสมควร   นอกจากนี้ บางพื้นที่ของภูเก็ต เช่น ป่าตอง ทางผู้บริหารได้มีแนวคิดในการนำเทคโนโลยีมาใช้จัดการ ขยะ/พลังงาน/ท่องเที่ยว อยู่แล้ว ซึ่งเป็นโอกาสที่ดีสำหรับการมาลงทุน

บริการที่คาดว่าจะเกิดขึ้น เช่น การติดตามรถเมล์ สถานะถังขยะ จะมีทางเทศบาลเป็นเจ้าภาพลงทุน รวมไปถึงโอกาสทางธุรกิจอีกหลายอย่างที่ภูเก็ตมีจุดเด่น เช่น ท่าจอดเรือยอร์ชที่มีอยู่ถึง 4 แห่ง   การลงทุน smart city ในเฟสเริ่มต้นจะเริ่มจากการสร้างโครงการที่จะมาดำเนินการในภูเก็ต ซึ่งแหล่งเงินทุนจะมาจากหลายแหล่งในภาครัฐที่ร่วมทุนบางส่วนจากภาคเอกชน เช่น สวทน. (เอกชนออก 10% เพิ่งปิดรับข้อเสนอเมื่อต้นเดือน ธค.) สกว. (เอกชนออก 20% ปิดรับข้อเสนอประมาณเดือนมค. 60) รวมไปถึงการเสนอโครงการมาที่ NIA  

Wannarat Suntiamorntut ยังได้นำเสนอโครงการ innovation startup ที่ส่งเสริมให้เกิด startup ด้วยงบ seed money ถึง 2.5 ล้านบาท โดยจะปิดรับข้อเสนอในสิ้นเดือนธันวาคมนี้ แล้วจะไป pitch ที่ภูเก็ตในช่วง 6-10 กพ. โดยทีมที่ผ่านจะได้รับการสนับสนุน 500k บาทภายใต้เงื่อนไขคือขอให้ไปจดทะเบียนทำธุรกิจ startup ที่ภูเก็ต โดยจะมีการเตรียม co-working space รอไว้ในพื้นที่อุทยานวิทยาศาสตร์

ทาง CAT Telecom เป็นเจ้าภาพในการประเมิน LoRa ในพื้นที่ภูเก็ต โดยกำลังประสานงานกับ กสทช. เพื่อให้บริการเต็มรูปที่คาดว่าจะเป็นช่วง กพ.60   การนำ LoRa เข้ามาในเฟรมเวิร์ค smart city ของภูเก็ตเป็นหนึ่งในยุทธศาสตร์ของ CAT ที่จะปรับเพิ่มจากการให้บริการ infrastructure ให้ครอบคลุมการส่งเสริมการลงทุนตามแนว S-curve ของธุรกิจใหม่ๆ  ทั้งนี้ ทาง CAT Telecom ได้ทำ MOU กับทาง SK Telecom ของเกาหลีใต้ที่ให้ยืมอุปกรณ์เกตเวย์ของ LoRa มาทดสอบ และกำลังอยู่ในช่วงประสานงานกับ British Telecom เพื่อดึง IoT UK มาสร้างความร่วมมือกับธุรกิจท้องถิ่น  

Apinetr Unakul เน้นว่าการเชื่อมนักลงทุน/นักพัฒนากับหน่วยงานภาครัฐที่มีหน้าที่ส่งเสริมการลงทุน/วิจัย จะอาศัยช่องทาง  IoT City Innovation Center หรือ ICIC ที่ร่วมกันระหว่าง CAT-NIA-TESA-TRF เป็นหลัก

## LoRa มีอะไรที่โดดเด่นและแตกต่างจากเทคโนโลยีสื่อสารไร้สายอื่นๆ ?

LoRa เป็นเทคโนโลยีสื่อสารไร้สายที่มีจุดเด่นใน 3 ประเด็นคือ กินกำลังต่ำ ส่งได้ระยะไกล และมีราคาถูก (ในแง่อุปกรณ์และโครงสร้าง) กรอบของอุปกรณ์ที่จะใช้ LoRa จะเน้นไปที่งานที่ต้องส่งข้อมูลตลอดด้วย data rate ต่ำๆ และเน้นต้นทุนต่ำในแบบ fit-and-forget เป็นหลัก

เทคโนโลยีที่เป็นคู่แข่งได้แก่ XBee Long Range ในย่าน 900 MHz และ Sigfox ที่ต่างก็มีจุดเด่นในแง่ระยะทางที่สื่อสารได้ไกล   การเลือก LoRa มาเป็นตัวเลือกของการสื่อสารที่เติม gap ระหว่าง WiFi และ 3G/4G นี้ก็พิจารณาจากแนวโน้มของการติดตั้งในเมืองต่างๆทั่วโลก รวมทั้งประเด็นของการเป็น open specification 

โครงข่ายของอุปกรณ์ LoRa จะเป็นแบบ star ประกอบด้วยโหนดที่เชื่อมต่อกับเกตเวย์  ตัวอุปกรณ์ในระดับโหนดจะแบ่งออกเป็น 3 คลาส
* class A สำหรับการสื่อสารแบบ 2 ทาง
* class B สำหรับการทำงานแบบ beacon เพื่องานด้าน time sync/localization
* class C สำหรับการรับฟังตลอดเวลา
ส่วนเกตเวย์และ network server จะเป็นช่องทางในการเชื่อมต่อเข้าสู่โครงข่ายอื่นๆ   ในปัจจุบันแม้ว่าตัว device จะมีราคาถูก แต่ส่วนของเกตเวย์กับ server ยังมีราคาค่อนข้างสูงโดยมีเจ้าใหญ่ในตลาด เช่น Mulitech, LinkLabs และ Cisco

บอร์ดสื่อสาร LoRa ในตลาดยังคงต้องใช้ชิพจากบริษัท Semtech เป็นหลัก ซึ่งทาง Semtech ได้ประกาศที่จะใช้โมเดลธุรกิจแบบการให้ไลเซนส์เหมือน ARM  บางบริษัท เช่น Microchip ได้มาขอไลเซนส์ไปผลิตแล้ว แม้จะยังไม่มีบอร์ดพัฒนาออกมาขายทั่วไป   การเลือกชิพของ Semtech จะต้องดูฟีเจอร์ของส่วนฮาร์ดแวร์ของชิพ 12xx/13xx เช่น เป็นโหนดหรือเกตเวย์ ทำงานในคลาสไหน เพื่อให้ทำงานได้ถูกต้องตามโครงข่าย   ตัวชิพเซ็ตของ Semtech จะทำงานในแบบ System-Defined Radio โดยจะสามารถโปรแกรมลักษณะสมบัติเชิงความถี่ (ย่านความถี่ มอดูเลชัน) จากโรงงานได้ แต่ยังคงต้องปรับค่า R/L/C ในส่วนเรโซเนเตอร์บนบอร์ดให้ตรงกับย่านความถี่ จึงยังต้องการผู้ประกอบการที่จะทำบอร์ดสำหรับประเทศไทยออกมาขาย

ย่านความถี่ของ LoRa ในเมืองไทยจะใช้ 920-925 MHz ที่เป็นย่าน ISM ที่กำหนดไว้สำหรับประเทศไทย เวียดนาม และสิงคโปร์  ย่านความถี่นี้ได้ถูกกำหนดไว้สำหรับอุปกรณ์ประเภท UHF RFID อยู่แล้ว ทาง กสทช. จึงไม่น่าจะขัดข้อง   แต่การสั่งซื้อบอร์ดพัฒนาจะต้องระวังเพราะอุปกรณ์ในท้องตลาดมักจะเป็น 868 MHz (ยุโรป) หรือ 915 MHz (อเมริกา) ที่ทาง กสทช. ไม่อนุญาติให้ใช้  แต่เนื่องจาก กสทช. ยังไม่ประกาศย่านความถี่ให้ LoRa จึงควรรอให้ทาง CAT ไปประสานงานให้มีประกาศเงื่อนไขอย่างเป็นทางการก่อน

การทดสอบ LoRa ได้ดำเนินการใน 2 รูปแบบ โดยทาง มอ. ได้ร่วมมือกับบริษัท WiMa ไปทดสอบในพื้นที่สิงคโปร์ โดยอัตราการสื่อสารถูกยืนยันว่ามีช่วงตั้งแต่ 0.3 kbps จนถึง 50 kbps ขึ้นอยู่กับ duty cycle ในการส่งข้อมูล โดยฟีเจอร์ของเกตเวย์แบบการค้ามักจะรวมความสามารถในการปรับ (adaptive datarate) ไว้ เพื่อรองรับประเด็นนี้  แต่การทดสอบยังไม่รวมถึงการยืนยันความจุของโครงข่ายที่น่าจะสูงได้ถึง 20K โหนด/เกตเวย์     

การทดสอบที่ CAT ได้ร่วมกับ SK Telecom ดำเนินการในพื้นที่ของภูเก็ต ได้ข้อมูลเบื้องต้นคือ ระยะทางแบบ line-of-sight อยู่ประมาณ 5-6 กิโลเมตร ในขณะที่ทิศที่มีอาคาร/ภูเขาบังจะตกประมาณ 1-2 กิโลเมตร (ทาง ดร.เสือ จาก CAT จะส่ง coverage map มาให้ดูอีกที)   การทดสอบให้เสาอากาศแบบ omni-directional และทดสอบรอบอาคารเดียวเท่านั้น  เมื่อทาง CAT ได้รับการอนุมัติจาก กสทช. แล้วจะทำการติดตั้งโครงข่าย LoRa ให้ครอบคลุมทั้งเกาะ เริ่มจากภายในเขตเทศบาลเมืองและชายหาดต่างๆ ซึ่งคาดว่าจะใช้เวลาสั้นๆ (ไม่เกิน 3 สัปดาห์) เพื่อดำเนินการ

ปัจจุบัน มีบาง telco operator เช่น Proximus ของเบลเยียมได้ให้บริการ LoRa ในเชิงการค้าแล้ว แม้จะจำกัดในบางเมืองเท่านั้น โดยเอาไปกับ[การบริหารที่จอดรถในตัวเมือง](http://www.proximus.be/en/id_cl_iot/large-companies-and-public-sector/solutions/internet-and-networks/internet-of-things.html)

## คำถามจากผู้ฟัง

### เมื่อไรที่ CAT จะเอา LoRa มาติดตั้งในกรุงเทพ หากจะนำไปใช้กับตู้ขายของแล้วจะคุ้มไหม

ปัจจุบัน CAT ยังมอง LoRa ในฐานะของปัจจัยที่ส่งเสริมธุรกิจขนาดเล็กหรือ startup เท่านั้น เพราะลูกค้าองค์กร เช่น การไฟฟ้า การประปา ที่จะเข้ามาใช้โครงข่ายยังไม่ติดต่อมา จึงมีการวาง roadmap ในการติดตั้งเฉพาะในพื้นที่ทดสอบ ได้แก่ ภูเก็ต สนามหลวง และบางแสน เท่านั้น   ในขณะเดียวกัน จำนวนตู้ขายของ/พื้นที่ในประเทศไทยยังไม่หนาแน่นมาก จึงไม่น่าจะคุ้มที่จะลงทุนทำโครงข่ายเอง ควรเลือกใช้ SIM ต่อไป

### CAT มอง pricing model เมื่อมีการติดตั้งในเชิงการค้าอย่างไร

ทาง CAT ยังไม่มีแผนเรื่องการเก็บค่าใช้จ่ายจาก LoRa โดยในเฟสการทดลองกับ smart city ที่ภูเก็ตจะยังไม่เก็บค่าใช้จ่ายกับหน่วยงานที่มาร่วมทดสอบ  ทั้งนี้อุปกรณ์ของโครงข่าย LoRa มีราคาถูกมากเมื่อเทียบกับโครงข่าย 3G/4G รวมทั้งสามารถติดตั้งใน cell site เดิมได้ จึงคาดว่าจะเก็บในราคาที่ถูกลง หรืออาจเก็บผ่านช่องทางอื่นๆ เช่น การใช้บริการ cloud ของ CAT ตามแนวคิดของ Application Enablement Platform (AEP)  ตัวอย่างของ SK Telecom จะเก็บถูกกว่า 3 ถึง 4 เท่าเมื่อเทียบกับ LTE

### หากจะเริ่มศึกษา LoRa จะหาอุปกรณ์และซอฟต์แวร์ได้อย่างไร

บอร์ดพัฒนา LoRa มีขายอยู่หลายผู้ผลิต เช่น ชุด [P-NUCLEO-LRWAN1](http://www.st.com/en/wireless-connectivity/p-nucleo-lrwan1.html) ของ ST-Microelectronics หรือ Dragino LoRa shield ที่ซื้อได้ที่ [Seeedstudio](https://www.seeedstudio.com/Dragino-LoRa-Shield-support-868M-frequency-p-2651.html) แต่ต้องรับทราบว่าไม่สามารถใช้ได้อย่างเป็นทางการ เพราะเป็นย่านความถี่ที่ทาง กสทช. ไม่อนุญาติให้ใช้  การซื้อฮาร์ดแวร์จะต้องมีอย่างน้อย 2 บอร์ด โดยใช้ซอฟต์แวร์ให้ทำงานเป็นโหนดและเกตเวย์   สำหรับซอฟต์แวร์อาจจะไปดาวน์โหลด [The Things Network](https://www.thethingsnetwork.org/) ที่เป็นโอเพนซอร์สที่ทำงานตามสเปคของ [LoRaWAN](https://www.lora-alliance.org/For-Developers/LoRaWANDevelopers)

### มีตัวอย่างของ business model ที่พึ่งพา LoRa ที่น่าสนใจไหม

แอพพลิเคชันที่จะได้ประโยชน์จาก LoRa จะเป็นงานที่ต้องใช้อุปกรณ์ประเภท fit-and-forget เช่น asset tracking หรือ tele-monitoring ที่เน้นราคาถูก เช่น การวัดสภาพแวดล้อม  หากหน่วยงานปกครองส่วนท้องถิ่นหรือธุรกิจในพื้นที่มีแนวโน้มที่จะยอมรับเทคโนโลยีในระดับสูง เช่น พื้นที่ภาคใต้ ก็จะทำให้มีโอกาสในการต่อยอดทางธุรกิจได้ง่าย
